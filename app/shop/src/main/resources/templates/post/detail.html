<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8">
<title>게시판 상세 화면</title>
</head>
<body>
<div class="page_tits">
    <h3>게시판 관리</h3>
    <p class="path"><strong>현재 위치 :</strong> <span>게시판 관리</span> <span>상세</span></p>
</div>
<div class="content">
    <div>
        <label for="title">* 제목:</label>
        <input type="text" id="title" th:value="${post.title}" readonly><br>

        <label for="category">* 카테고리:</label>
        <input type="text" id="category" th:value="${post.categoryId}" readonly><br>

        <!--<label for="content">* 내용:</label>
        <div th:text="${post.content}" id="content"></div><br>-->
        <!-- https://rebornbb.tistory.com/entry/HTML-iframe-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8F%99%EC%98%81%EC%83%81-%EC%9E%90%EB%8F%99-%EC%97%B0%EC%86%8D%EC%9E%AC%EC%83%9D -->
        <!--<iframe width="893" height="502" src="https://www.youtube.com/embed/gZhF6Z2qqh0?autoplay=1&mute=1" title="《큰 거 온다!》 미친 몰입감으로 한국 액션 누아르의 한 휙을 긋게 될 2023년 하반기 최대 기대작 영화 《더 와일드: 야수들의 전쟁》" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>-->
        <textarea rows="4" cols="50" placeholder="내용을 입력하세요..." th:text="${post.content}"></textarea><br>
        <label for="readCount">* 조회수:</label>
        <input type="text" id="readCount" th:value="${post.readCnt}" readonly><br>

        <label for="author">* 작성자:</label>
        <input type="text" id="author" th:value="${post.writer != null} ? ${post.writer} : ${'비고'}" readonly><br>
    </div>
    <p class="btn_set">
        <button type="button" th:onclick="updatePosts()" class="btns btn_bdr4 btn_mid">수정</button>
        <button type="button" th:onclick="'deletePosts(' + ${post.postId} + ')'" class="btns btn_bdr1 btn_mid">삭제</button>
        <button type="button" th:onclick="goListPage();" class="btns btn_bdr3 btn_mid">뒤로</button>
    </p><br><br>

    <div id="commentList">
        <div th:if="${post.comments != null and not #lists.isEmpty(post.comments)}" th:each="comment : ${post.comments}">
            <div>
                <!-- 일반 댓글 표시 -->
                <!-- 댓글 등록시 일반 댓글의 commentId를 가져가서 서버에 넘긴 후 에 INSERT 하는 걸로 -->
                <p th:if="${!comment.path.contains('-')}" th:text="${comment.content}" th:attr="data-comment-id=${comment.commentId}"></p>
                <!-- 대댓글 표시 -->
                <div th:if="${comment.path != null and comment.path.contains('-')}" th:attr="data-parent-id=${comment.parentId}">
                    <ul>
                        <li th:text="${comment.content}"></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--<div id="comment-form" style="display: none;">-->
    <div id="commentForm">
        <textarea id="commentContent" rows="3"></textarea>
        <button id="submitCommentBtn">댓글 등록</button>
    </div><br><br>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="/js/common/common.js"></script>
    <script src="/js/common/message.js"></script>
    <script src="/js/common/sendFetchTemplate.js"></script>
    <script src="/js/post/postDetail.js"></script>
</div>
</body>
</html>
